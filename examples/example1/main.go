package main

import (
	"github.com/monkeydioude/moon"
)

// a dogo
func example1(r *moon.Request) ([]byte, int, error) {
	return []byte("" +
		"                               ..,,,,,,,,,.. \n" +
		"                        .,;%%%%%%%%%%%%%%%%%%%%;,. \n" +
		"                      %%%%%%%%%%%%%%%%%%%%////%%%%%%, .,;%%;, \n" +
		"   		.,;%/,%%%%%/////%%%%%%%%%%%%%%////%%%%,%%//%%%, \n" +
		"   	.,;%%%%/,%%%///%%%%%%%%%%%%%%%%%%%%%%%%%%%%,////%%%%;, \n" +
		"     .,%%%%%%//,%%%%%%%%%%%%%%%%@@%a%%%%%%%%%%%%%%%%,%%/%%%%%%%;, \n" +
		"   .,%//%%%%//,%%%%///////%%%%%%%@@@%%%%%%///////%%%%,%%//%%%%%%%%, \n" +
		" ,%%%%%///%%//,%%//%%%%%///%%%%%@@@%%%%%////%%%%%%%%%,/%%%%%%%%%%%%% \n" +
		".%%%%%%%%%////,%%%%%%%//%///%%%%@@@@%%%////%%/////%%%,/;%%%%%%%%/%%% \n" +
		"%/%%%%%%%/////,%%%%///%%////%%%@@@@@%%%///%%/%%%%%//%,////%%%%//%%%' \n" +
		"%//%%%%%//////,%/%a`  'a%///%%%@@@@@@%%////a`  'a%%%%,//%///%/%%%%% \n" +
		"%///%%%%%%///,%%%%@@aa@@%//%%%@@@@S@@@%%///@@aa@@%%%%%,/%////%%%%% \n" +
		"%%//%%%%%%%//,%%%%%///////%%%@S@@@@SS@@@%%/////%%%%%%%,%////%%%%%' \n" +
		"%%//%%%%%%%//,%%%%/////%%@%@SS@@@@@@@S@@@@%%%%/////%%%,////%%%%%' \n" +
		"`%/%%%%//%%//,%%%///%%%%@@@S@@@@@@@@@@@@@@@S%%%%////%%,///%%%%%' \n" +
		"  %%%%//%%%%/,%%%%%%%%@@@@@@@@@@@@@@@@@@@@@SS@%%%%%%%%,//%%%%%' \n" +
		"  `%%%//%%%%/,%%%%@%@@@@@@@@@@@@@@@@@@@@@@@@@S@@%%%%%,/////%%' \n" +
		"   `%%%//%%%/,%%%@@@SS@@SSs@@@@@@@@@@@@@sSS@@@@@@%%%,//%%//%' \n" +
		"    `%%%%%%/  %%S@@SS@@@@@Ss` .,,.    'sS@@@S@@@@%'  ///%/%' \n" +
		"     `%%%/    %SS@@@@SSS@@S.         .S@@SSS@@@@'    //%%' \n" +
		"              /`S@@@@@@SSSSSs,     ,sSSSSS@@@@@' \n" +
		"   	     %%//`@@@@@@@@@@@@@Ss,sS@@@@@@@@@@@'/ \n" +
		"   	   %%%%@@00`@@@@@@@@@@@@@'@@@@@@@@@@@'//%% \n" +
		"      %%%%%%a%@@@@000aaaaaaaaa00a00aaaaaaa00%@%%%%% \n" +
		"   %%%%%%a%%@@@@@@@@@@000000000000000000@@@%@@%%%@%%% \n" +
		" %%%%%%a%%@@@%@@@@@@@@@@@00000000000000@@@@@@@@@%@@%%@%% \n" +
		"%%%aa%@@@@@@@@@@@@@@0000000000000000000000@@@@@@@@%@@@%%%% \n" +
		"%%@@@@@@@@@@@@@@@00000000000000000000000000000@@@@@@@@@%%%%%"), 200, nil
}

func example1bis(r *moon.Request) ([]byte, int, error) {
	// This will print (wesh) the "ex1" parameter matched from the Route Pattern below
	return []byte(r.Matches["ex1"]), 200, nil
}

func main() {
	server := moon.Moon()
	// Me API es su API
	server.AddHeader("Access-Control-Allow-Origin", "*")

	server.MakeRouter(
		// Will call example1() func every time a GET on "/example1" URI is caught
		moon.Get("/example1", example1),
		// This will match any "/example1/*" GET request. Visitng "/example1/wesh" URL will print "wesh"
		moon.Get("/example1/{ex1}", example1bis),
	)

	moon.ServerRun(":8080", server)
}
